((function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=Object.prototype.hasOwnProperty,e=function(a,b){function e(){this.constructor=a}for(var c in b)d.call(b,c)&&(a[c]=b[c]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};b=typeof exports!="undefined"&&exports!==null?exports:this,a=b.Backpack={VERSION:"0.0.1"},a.Component=function(a){function b(){this.slug=c(this.slug,this),this.bump=c(this.bump,this),this.removeClass=c(this.removeClass,this),this.addClass=c(this.addClass,this),this["class"]=c(this["class"],this),this.parent=c(this.parent,this),this.content=c(this.content,this),this.setContent=c(this.setContent,this),this.prepend=c(this.prepend,this),this.append=c(this.append,this),this.after=c(this.after,this),this.before=c(this.before,this),this.remove=c(this.remove,this),this.close=c(this.close,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="div",b.prototype.className="backpack-component",b.prototype.options={parent:"body"},b.prototype.initialize=function(){var a,b,c,d,e,f;this.options=_.extend({},this.defaults,this.options),c=this.options,f=[];for(b in c)a=c[b],_.isArray(a)?(e=this[b])!=null&&e.apply(this,a):(d=this[b])!=null&&d.call(this,a),f.push(null);return f},b.prototype.render=function(){return this.$parent.append(this.el),this},b.prototype.show=function(){return this.render(),this.delegateEvents(this.events),this.$el.removeClass("hide"),this},b.prototype.hide=function(){return this.$el.addClass("hide"),this.undelegateEvents(),this},b.prototype.close=function(){return this.hide(),this.remove(),this},b.prototype.remove=function(){return this.undelegateEvents(),b.__super__.remove.call(this),this},b.prototype.before=function(a){return a==null?this:(a=this.setContent(a),this.$el.before(a),this)},b.prototype.after=function(a){return a==null?this:(a=this.setContent(a),this.$el.after(a),this)},b.prototype.append=function(a){return a==null?this:(a=this.setContent(a),this.$el.append(a),this)},b.prototype.prepend=function(a){return a==null?this:(a=this.setContent(a),this.$el.prepend(a),this)},b.prototype.setContent=function(a){return a==null?this:a.el!=null?a.render!=null?a=a.render().el:a=a.el:a=a},b.prototype.content=function(a){var b;return a==null?this:(this._content=this.setContent(a),b=this.make("div",{"class":"content"},this._content),this.$el.append(b),this)},b.prototype.parent=function(a){return a==null?this:(this.$parent=$(a),this)},b.prototype["class"]=function(a){return this.addClass(a),this},b.prototype.addClass=function(a){return a==null?this:(this.$el.addClass(a),this)},b.prototype.removeClass=function(a){return a==null?this:(this.$el.removeClass(a),this)},b.prototype.bump=function(a){return a==null?this:(this.addClass("bump-"+a),this)},b.prototype.slug=function(a){return a==null?this:a.toLowerCase().replace(/\ +/g,"-").replace(/[^a-z0-9-]/g,"")},b}(Backbone.View),a.Clickable=function(a){function b(){this.content=c(this.content,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.template=_.template("<a href='<%= href %>'><%= content %></a>"),b.prototype.initialize=function(){var a,b,c;return c=this.options,a=c.content,b=c.events,this.content(a,b),this.delegateEvents(this.events),this},b.prototype.render=function(){return this.$el.html(this._content),this},b.prototype.content=function(a,b){return b==null&&(b={}),a.el!=null?(this._content=a.el,this):_.isString(b)?(this._content=this.template({href:b,content:a}),this):_.isFunction(b)?(this.events={click:b},this._content=this.template({href:"javascript:void(0);",content:a}),this):(this.events=b,this._content=this.template({href:"javascript:void(0);",content:a}),this)},b}(a.Component),a.Menu=function(b){function d(){this.add=c(this.add,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="ul",d.prototype.initialize=function(){return d.__super__.initialize.call(this),this.addClass("backpack-menu"),this},d.prototype.add=function(){var b,c,d,e,f,g,h;for(g=0,h=arguments.length;g<h;g++)e=arguments[g],b=e.content,d=e.events,c=e.el,c?f=e:f=new a.MenuItem(e),this.append(f.show().el);return this},d}(a.Component),a.MenuItem=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="li",b.prototype.template=_.template("<a href='<%= href %>'><%= content %></a>"),b.prototype.initialize=function(){return b.__super__.initialize.call(this),this.addClass("backpack-menu-item")},b}(a.Clickable),a.Overlay=function(a){function b(){this.color=c(this.color,this),this.lockOverlay=c(this.lockOverlay,this),this.close=c(this.close,this),this.unlock=c(this.unlock,this),this.content=c(this.content,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.template="<div class='backpack-overlay-outer'>\n  <div class='backpack-overlay-inner'>\n    <div class='backpack-overlay-container'></div>\n  </div>\n</div>",b.prototype.events={click:"unlock","click .backpack-overlay-container":function(a){return a.stopPropagation()}},b.prototype.defaults={lockOverlay:!1,color:"rgba(0,0,0,0.7)"},b.prototype.initialize=function(){return this.addClass("backpack-overlay"),this.append(this.template),b.__super__.initialize.call(this),this.$parent.addClass("overlay")},b.prototype.render=function(){return this.$(".backpack-overlay-container").html(this._content),this.$parent.prepend(this.el),this},b.prototype.content=function(a){return a==null?this:(this._content=this.setContent(a),this)},b.prototype.unlock=function(){return this._lockOverlay||this.close(),this},b.prototype.close=function(){return b.__super__.close.call(this),this.trigger("overlay-close"),this},b.prototype.lockOverlay=function(a){return this._lockOverlay=!!a,this},b.prototype.color=function(a){return this.el.style.backgroundColor=a,this},b}(a.Component),a.Modal=function(b){function d(){this.remove=c(this.remove,this),this.newOverlay=c(this.newOverlay,this),this.closable=c(this.closable,this),this.close=c(this.close,this),this.hide=c(this.hide,this),this.show=c(this.show,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.events={"click .close":"close"},d.prototype.defaults={closable:!0,lockOverlay:!0},d.prototype.initialize=function(){return this.addClass("backpack-modal"),d.__super__.initialize.call(this),this.newOverlay(),this},d.prototype.show=function(){var a;return d.__super__.show.call(this),(a=this.overlay)!=null&&a.show(),this},d.prototype.hide=function(){var a;return d.__super__.hide.call(this),(a=this.overlay)!=null&&a.hide(),this},d.prototype.close=function(){var a;return d.__super__.close.call(this),(a=this.overlay)!=null&&a.remove(),this},d.prototype.closable=function(){return arguments[0]?(this.$el.prepend("<span class='close'>&times;</span>"),this):this},d.prototype.newOverlay=function(){return this.overlay=new a.Overlay({lockOverlay:this.options.lockOverlay,content:this.el,color:this.options.color,show:!0}),this.overlay.on("overlay-close",this.close),this},d.prototype.remove=function(){return d.__super__.remove.call(this),this.overlay.remove(),this},d}(a.Component),a.Notification=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(a.Component),a.Tabs=function(b){function d(){this.select=c(this.select,this),this.setItems=c(this.setItems,this),this.setTab=c(this.setTab,this),this.add=c(this.add,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="ul",d.prototype.items=[],d.prototype.active=0,d.prototype.initialize=function(){return d.__super__.initialize.call(this),this.addClass("backpack-tabs"),this.contentArea="<div class='backpack-tab-content-area'/>",this.after(this.contentArea)},d.prototype.add=function(){var b,c,d,e,f,g,h;for(g=0,h=arguments.length;g<h;g++)e=arguments[g],b=e.content,d=e.events,c=e.el,e=_.extend(e,{parent:this}),c?f=e:f=new a.Tab(e),this.setTab(f);return this.setItems(),this},d.prototype.setTab=function(a){return a.on("tab-click",this.select),this.append(a.show().el),this.items.push(a),this},d.prototype.setItems=function(){var a,b,c;return b=_.first(this.items),c=_.last(this.items),a=this.items[this.active],b.addClass("backpack-tab-first"),c.addClass("backpack-tab-last"),a.addClass("backpack-tab-active"),this},d.prototype.select=function(a){return this.active=_.indexOf(this.items,a),this.$(".backpack-tab").removeClass("backpack-tab-active"),a.addClass("backpack-tab-active"),console.log(a.tabContent),$("backpack-tab-content-area").html(a.tabContent.render().el),console.log(this.active),this},d}(a.Component),a.Tab=function(b){function d(){this.select=c(this.select,this),this.content=c(this.content,this),this.render=c(this.render,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="li",d.prototype.template=_.template("<a href='<%= href %>'><%= content %></a>"),d.prototype.events={click:"select"},d.prototype.initialize=function(){var b;return d.__super__.initialize.call(this),this.addClass("backpack-tab"),b=this.options.tabContent,this.tabContent=new a.TabContent({content:b,parent:".backpack-tab-content-area"})},d.prototype.render=function(){return this.$el.html(this._content),this},d.prototype.content=function(a){return a==null?this:(a=this.setContent(a),this._content=this.template({href:"javascript:void(0);",content:a}),this)},d.prototype.select=function(){return this.trigger("tab-click",this),this},d}(a.Component),a.TabContent=function(a){function b(){this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.initialize=function(){return b.__super__.initialize.call(this),this.addClass("backpack-tab-content")},b.prototype.render=function(){return this.$parent.html(this._content),this},b}(a.Component),a.Button=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="button",b.prototype.events={click:function(){return this.trigger("button-close")}},b.prototype.initialize=function(){return b.__super__.initialize.call(this),this.addClass("backpack-button"),this},b}(a.Component)})).call(this);