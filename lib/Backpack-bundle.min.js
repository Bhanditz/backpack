((function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=Object.prototype.hasOwnProperty,e=function(a,b){function e(){this.constructor=a}for(var c in b)d.call(b,c)&&(a[c]=b[c]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};b=typeof exports!="undefined"&&exports!==null?exports:this,a=b.Backpack={VERSION:"0.0.1"},a.Component=function(a){function b(){this.slug=c(this.slug,this),this.removeClass=c(this.removeClass,this),this.addClass=c(this.addClass,this),this["class"]=c(this["class"],this),this.parent=c(this.parent,this),this.content=c(this.content,this),this.setContent=c(this.setContent,this),this.prepend=c(this.prepend,this),this.append=c(this.append,this),this.after=c(this.after,this),this.before=c(this.before,this),this.close=c(this.close,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="div",b.prototype.className="backpack-component",b.prototype.options={"class":"",_content:"",$parent:"body",hide:!0},b.prototype.initialize=function(){var a,b,c,d,e;this.options=_.extend({},this.defaults,this.options),c=this.options;for(b in c)a=c[b],_.isArray(a)?(e=this[b])!=null&&e.apply(this,a):(d=this[b])!=null&&d.call(this,a),null;if(!this.options.parent)return this.parent(this.options.$parent)},b.prototype.render=function(){return this.$parent.append(this.el),this},b.prototype.show=function(){return this.delegateEvents(this.events),this.$el.removeClass("hide"),this},b.prototype.hide=function(){return this.$el.addClass("hide"),this.undelegateEvents(),this},b.prototype.close=function(){return this.hide(),this.remove(),this},b.prototype.before=function(a){return a==null?this:(a=this.setContent(a),this.$el.before(a),this)},b.prototype.after=function(a){return a==null?this:(a=this.setContent(a),this.$el.after(a),this)},b.prototype.append=function(a){return a==null?this:(a=this.setContent(a),this.$el.append(a),this)},b.prototype.prepend=function(a){return a==null?this:(a=this.setContent(a),this.$el.prepend(a),this)},b.prototype.setContent=function(a){return a==null?this:a.el!=null?a.render!=null?a=a.render().el:a=a.el:a=a},b.prototype.content=function(a){var b;return a==null?this:(this._content=this.setContent(a),b=this.make("div",{"class":"content"},this._content),this.$el.append(b),this)},b.prototype.parent=function(a){return a==null?this:(this.$parent=$(a),this)},b.prototype["class"]=function(a){return this.addClass(a),this},b.prototype.addClass=function(a){return a==null?this:(this.$el.addClass(a),this)},b.prototype.removeClass=function(a){return a==null?this:(this.$el.removeClass(a),this)},b.prototype.slug=function(a){return a==null?this:a.toLowerCase().replace(/\ +/g,"-").replace(/[^a-z0-9-]/g,"")},b}(Backbone.View),a.Overlay=function(a){function b(){this.color=c(this.color,this),this.lockOverlay=c(this.lockOverlay,this),this.close=c(this.close,this),this.unlock=c(this.unlock,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.events={click:"unlock"},b.prototype.defaults={lockOverlay:!1,color:"rgba(0,0,0,0.7)"},b.prototype.initialize=function(){return b.__super__.initialize.call(this),this.addClass("backpack-overlay"),this},b.prototype.render=function(){return this.$parent.prepend(this.el),this},b.prototype.unlock=function(){return this._lockOverlay||this.close(),this},b.prototype.close=function(){return b.__super__.close.call(this),this.trigger("overlay-close"),this},b.prototype.lockOverlay=function(a){return this._lockOverlay=a,this},b.prototype.color=function(a){return this.el.style.backgroundColor=a,this},b}(a.Component),a.Dialog=function(b){function d(){this.close=c(this.close,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.showOverlay=c(this.showOverlay,this),this.closable=c(this.closable,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.events={"click .close":"close"},d.prototype.defaults={lockOverlay:!1,showOverlay:!1,closable:!0},d.prototype.initialize=function(){return d.__super__.initialize.call(this),this.addClass("backpack-dialog"),this},d.prototype.closable=function(){return this.$el.prepend("<span class='close'>Ã—</span>"),this},d.prototype.showOverlay=function(b){return b?(this.overlay=new a.Overlay({parent:this.$parent,lockOverlay:this.options.lockOverlay}),this.overlay.on("overlay-close",this.close),this):this},d.prototype.show=function(){var a;return d.__super__.show.call(this),(a=this.overlay)!=null&&a.render().show(),this},d.prototype.hide=function(){var a;return d.__super__.hide.call(this),(a=this.overlay)!=null&&a.hide(),this},d.prototype.close=function(){var a;return d.__super__.close.call(this),(a=this.overlay)!=null&&a.remove(),this},d}(a.Component),a.Modal=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.defaults={lockOverlay:!0,showOverlay:!0,closable:!0},b.prototype.initialize=function(){return b.__super__.initialize.call(this,this.defaults),this.addClass("backpack-modal"),this},b}(a.Dialog),a.Menu=function(b){function d(){this.add=c(this.add,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="ul",d.prototype.initialize=function(){return d.__super__.initialize.call(this),this.addClass("backpack-menu"),this},d.prototype.add=function(b,c,d){var e;return b.el!=null?e=b:e=new a.MenuItem(b,c,d),this.$el.append(e.render().el),this},d}(a.Component),a.MenuItem=function(a){function b(){this.setContent=c(this.setContent,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="li",b.prototype.template=_.template("<a href='<%= href %>'><%= content %></a>"),b.prototype.initialize=function(){var a,b,c,d;return this.addClass("backpack-menu-item"),d=this.options,a=d.content,b=d.events,c=d.name,this.setContent(a,b),this.delegateEvents(this.events),this.addClass(this.slug(c)),this},b.prototype.render=function(){return this.$el.html(this.content),this},b.prototype.setContent=function(a,b){return a.el!=null?(this.content=a.el,this):_.isString(b)?(this.content=this.template({href:b,content:a}),this):_.isFunction(b)?(this.events={click:b},this.content=this.template({href:"javascript:void(0);",content:a}),this):(this.events=b,this.content=this.template({href:"javascript:void(0);",content:a}),this)},b}(a.Component),a.Notification=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b}(a.Component),a.Button=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="button",b.prototype.events={click:function(){return this.trigger("button-close")}},b.prototype.initialize=function(){return b.__super__.initialize.call(this),this.addClass("backpack-button"),this},b}(a.Component)})).call(this);