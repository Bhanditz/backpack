((function(){var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=Object.prototype.hasOwnProperty,e=function(a,b){function e(){this.constructor=a}for(var c in b)d.call(b,c)&&(a[c]=b[c]);return e.prototype=b.prototype,a.prototype=new e,a.__super__=b.prototype,a};b=typeof exports!="undefined"&&exports!==null?exports:this,a={VERSION:"0.0.1",Helpers:{slug:function(a){return a==null&&(a=""),a.toLowerCase().replace(/\ +/g,"-").replace(/[^a-z0-9-]/g,"")}}},b.Backpack=a,a.Component=function(a){function b(){this.addClass=c(this.addClass,this),this.setParent=c(this.setParent,this),this.setContent=c(this.setContent,this),this.close=c(this.close,this),this.hide=c(this.hide,this),this.show=c(this.show,this),this.after=c(this.after,this),this.before=c(this.before,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="div",b.prototype.options={name:"",content:"",parent:"body"},b.prototype.initialize=function(){return this},b.prototype.render=function(){return this.parent.append(this.el),this},b.prototype.before=function(a){return this.setContent(a),this.$el.before(a),this},b.prototype.after=function(a){return this.setContent(a),this.$el.after(this.content),this},b.prototype.show=function(){return this.delegateEvents(this.events),this.$el.removeClass("hide"),this},b.prototype.hide=function(){return this.$el.addClass("hide"),this.undelegateEvents(),this},b.prototype.close=function(){return this.hide(),this.$el.remove(),this},b.prototype.setContent=function(a){return a.el!=null?this.content=a.render().el:this.content=a,this},b.prototype.setParent=function(a){return this.parent=$(a),this},b.prototype.addClass=function(a){return this.$el.addClass(a),this},b}(Backbone.View),a.Menu=function(b){function d(){this.add=c(this.add,this),d.__super__.constructor.apply(this,arguments)}return e(d,b),d.prototype.tagName="ul",d.prototype.className="backpack-menu",d.prototype.initialize=function(a,b){return a==null&&(a="body"),b==null&&(b=""),this.setParent(a),this.addClass(b),this},d.prototype.add=function(b,c,d){var e;return b==null&&(b=""),c==null&&(c={}),b.el!=null?e=b:e=new a.MenuItem(b,c,d),this.$el.append(e.render().el),this},d}(a.Component),a.MenuItem=function(a){function b(){this.setContent=c(this.setContent,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="li",b.prototype.className="backpack-menu-item",b.prototype.template=_.template("<a href='<%= href %>'><%= content %></a>"),b.prototype.events={},b.prototype.initialize=function(a,b,c){return a==null&&(a=""),b==null&&(b={}),c==null&&(c=""),this.setContent(a,b),this.delegateEvents(this.events),this.addClass(c),this},b.prototype.render=function(){return this.$el.html(this.content),this},b.prototype.setContent=function(a,b){return a==null&&(a=""),b==null&&(b={}),a.el!=null?(this.content=a.el,this):_.isString(b)?(this.content=this.template({href:b,content:a}),this):_.isFunction(b)?(this.events={click:b},this.content=this.template({href:"javascript:void(0);",content:a}),this):(this.events=b,this.content=this.template({href:"javascript:void(0);",content:a}),this)},b}(a.Component),a.Dialog=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="div",b.prototype.className="backpack-dialog",b.prototype.events={click:"close"},b.prototype.initialize=function(){var a,b,c,d;return d=this.options,b=d.name,c=d.parent,a=d.content,this.setContent(a),this.setParent(c),this.addClass(b),this},b}(a.Component),a.Overlay=function(a){function b(){this.setOptions=c(this.setOptions,this),this.setColor=c(this.setColor,this),this.setLock=c(this.setLock,this),this.unlock=c(this.unlock,this),this.render=c(this.render,this),b.__super__.constructor.apply(this,arguments)}return e(b,a),b.prototype.tagName="div",b.prototype.className="backpack-overlay hide",b.prototype.options={lock:!1,parent:"body",color:"rgba(0,0,0,0.5)"},b.prototype.events={click:"unlock"},b.prototype.initialize=function(){var a,b,c,d;return d=this.options,b=d.lock,c=d.parent,a=d.color,this.setLock(b),this.setParent(c),this.setColor(a),this},b.prototype.render=function(){return console.log(this.parent,this.options,this.option),this.$el.prependTo(this.parent),this},b.prototype.unlock=function(){return this.lock||this.close(),this},b.prototype.setLock=function(a){return this.lock=a,this},b.prototype.setColor=function(a){return this.el.style.backgroundColor=a,this},b.prototype.setOptions=function(a){return this.setLock(lock),this},b}(a.Component),a.Modal=function(b){function f(){this.hide=c(this.hide,this),this.show=c(this.show,this),f.__super__.constructor.apply(this,arguments)}var d;return e(f,b),f.prototype.tagName="div",f.prototype.className="backpack-modal",f.prototype.events={click:"close"},d=new a.Overlay,f.prototype.initialize=function(){return f.__super__.initialize.call(this),this},f.prototype.show=function(){return f.__super__.show.call(this),console.log(d),d.setLock(!0).render().show(),this},f.prototype.hide=function(){return f.__super__.hide.call(this),d.render().hide(),this},f}(a.Dialog)})).call(this);